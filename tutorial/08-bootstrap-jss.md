# 08 - Bootstrap –∏ JSS

–ö–æ–¥–∞ –∑–∞ —Ç–∞–∑–∏ –≥–ª–∞–≤–∞ –º–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ –≤ [`master-no-services`](https://github.com/verekia/js-stack-boilerplate/tree/master-no-services) –∫–ª–æ–Ω –Ω–∞ [JS-Stack-Boilerplate repository](https://github.com/verekia/js-stack-boilerplate).

–û–∫–µ–π! –í—Ä–µ–º–µ –µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–∏ –¥–∞ –∏–∑–≥–µ–∂–¥–∞ –∫—Ä–∞—Å–∏–≤–æ. –©–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ Twitter Bootstrap, –∑–∞ –¥–∞ –ø—Ä–∏–ª–æ–∂–∏–º –æ—Å–Ω–æ–≤–Ω–∏ —Å—Ç–∏–ª–æ–≤–µ –≤—ä—Ä—Ö—É –Ω–µ–≥–æ. –°–ª–µ–¥ —Ç–æ–≤–∞ —â–µ –¥–æ–±–∞–≤–∏–º –µ–¥–Ω–∞ CSS-in-JS –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∑–∞ –¥–∞ –¥–æ–±–∞–≤–∏–º –æ—â–µ –Ω—è–∫–æ–∏ –ø–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ —Å—Ç–∏–ª–æ–≤–µ.

## Twitter Bootstrap

> üí° **[Twitter Bootstrap](http://getbootstrap.com/)** –µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∑–∞ –ø–æ—Å—Ç—Ä–æ—è–≤–∞–Ω–µ –Ω–∞ *–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å* (UI components).

–ò–º–∞ –¥–≤–∞ –Ω–∞—á–∏–Ω–∞ –∑–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω–µ –Ω–∞ Bootstrap –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ò –¥–≤–∞—Ç–∞ –∏–º–∞—Ç —Ç–µ—Ö–Ω–∏—Ç–µ –ø—Ä–µ–¥–∏–º—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏:

- –î–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—è —Ä–µ–ª–∏–π–∑, **–∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ jQuery –∏ Tether** –∑–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏—Ç–µ.
- –î–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –æ—Ç–¥–µ–ª–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—è—Ç–æ —Ä–µ–∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –≤—Å–∏—á–∫–∏ Bootstrap –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤ React, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä [React-Bootstrap](https://react-bootstrap.github.io/) –∏–ª–∏ [Reactstrap](https://reactstrap.github.io/).

Third-party –±–∏–±–ª–∏–æ—Ç–µ–∫–∏—Ç–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç –¥–æ—Å—Ç–∞ —É–¥–æ–±–Ω–∏ –∑–∞ —É–ø–æ—Ç—Ä–µ–±–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, –∫–æ–∏—Ç–æ –Ω–∞–º–∞–ª—è–≤–∞—Ç –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ –º–Ω–æ–≥–æ –∫–æ–¥–∞, –∫–æ–π—Ç–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞, –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—Ç–µ HTML –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, –∞ –æ—Å–≤–µ–Ω —Ç–æ–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ç–∞ –∏–º —Å React –µ –º–Ω–æ–≥–æ –¥–æ–±—Ä–µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–∞. –ò –≤—ä–ø—Ä–µ–∫–∏ –∫–∞–∑–∞–Ω–æ—Ç–æ –¥–æ —Ç—É–∫, –∞–∑ –Ω–µ —Å—ä–º –≥–æ–ª—è–º –ø—Ä–∏–≤—ä—Ä–∂–µ–Ω–∏–∫ –Ω–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –∏–º, —Ç—ä–π –∫–∞—Ç–æ —Ç–µ –≤–∏–Ω–∞–≥–∏ –æ—Å—Ç–∞–≤–∞—Ç *–Ω–∞–∑–∞–¥* –æ—Ç –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—Ç–µ —Ä–µ–ª–∏–π–∑–∏ (–ø–æ–Ω—è–∫–æ–≥–∞ –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ –Ω–∞–∑–∞–¥). –°—ä—â–æ —Ç–∞–∫–∞ —Ç–µ –±–∏—Ö–∞ –±–∏–ª–∏ –Ω–µ—Å—ä–≤–µ—Å—Ç–∏–º–∏ —Å Bootstrap —Ç–µ–º–∏, –∫–æ–∏—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω JS. –¢–æ–≤–∞ –µ –¥–æ—Å—Ç–∞ —Å–µ—Ä–∏–æ–∑–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—Ç—ä–∫, –∏–º–∞–π–∫–∏ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –µ–¥–Ω–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –ø—Ä–µ–¥–∏–º—Å—Ç–≤–∞ –Ω–∞ Bootstrap –µ –≥–æ–ª—è–º–∞—Ç–∞ –º—É –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –æ—Ç –¥–∏–∑–∞–π–Ω–µ—Ä–∏, –∫–æ–∏—Ç–æ —Å—ä–∑–¥–∞–≤–∞—Ç –∫—Ä–∞—Å–∏–≤–∏ —Ç–µ–º–∏.

–ü–æ—Ä–∞–¥–∏ —Ç–∞–∑–∏ –ø—Ä–∏—á–∏–Ω–∞ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞–º –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—è —Ä–µ–ª–∏–π–∑, –∫–æ–π—Ç–æ –≤—ä—Ä–≤–∏ —Å jQuery –∏ Tether. –ï–¥–Ω–æ –æ—Ç –Ω–µ—â–∞—Ç–∞, –Ω–∞ –∫–æ–∏—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ–±—ä—Ä–Ω–µ–º –≤–Ω–∏–º–∞–Ω–∏–µ –∫–æ–≥–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ —Ç–æ–∑–∏ –ø–æ–¥—Ö–æ–¥ –µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –Ω–∞ –Ω–∞—à–∏—è –ø–∞–∫–µ—Ç. –ó–∞ –≤–∞—à–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Ä–∞–∑–º–µ—Ä—ä—Ç –Ω–∞ –ø–∞–∫–µ—Ç–∞ –µ –æ–∫–æ–ª–æ 200–ö–± (Gzipped) —Å –≤–∫–ª—é—á–µ–Ω–∏ jQuery, Tether –∏ JavaScript-a –Ω–∞ Bootstrap. –ú–∏—Å–ª—è, —á–µ —Ç–æ–≤–∞ –µ —Ä–∞–∑—É–º–Ω–æ, –Ω–æ –≤ —Å–ª—É—á–∞–π —á–µ –µ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –º–Ω–æ–≥–æ –∑–∞ –≤–∞—Å, –º–æ–∂–µ –±–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–º–∏—Å–ª–∏—Ç–µ –∑–∞ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –Ω–∞ Bootstrap –∏–ª–∏ –¥–æ—Ä–∏ –∑–∞ –≤–∞—Ä–∏–∞–Ω—Ç –¥–∞ –Ω–µ –≥–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –≤—ä–æ–±—â–µ.

### Bootstrap's CSS

- –ò–∑—Ç—Ä–∏–π—Ç–µ `public/css/style.css`

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add bootstrap@4.0.0-alpha.6`

- –ö–æ–ø–∏—Ä–∞–π—Ç–µ `bootstrap.min.css` –∏ `bootstrap.min.css.map` –æ—Ç `node_modules/bootstrap/dist/css` –≤—ä–≤ –≤–∞—à–∞—Ç–∞ `public/css` –ø–∞–ø–∫–∞.

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/server/render-app.jsx`, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```html
<link rel="stylesheet" href="${STATIC_PATH}/css/bootstrap.min.css">
```

### Bootstrap's JS —Å jQuery –∏ Tether

–°–µ–≥–∞, —Å–ª–µ–¥ –∫–∞—Ç–æ –≤–µ—á–µ —Å–º–µ –∑–∞—Ä–µ–¥–∏–ª–∏ —Å—Ç–∏–ª–æ–≤–µ—Ç–µ –æ—Ç Bootstrap –Ω–∞ –Ω–∞—à–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, —â–µ –Ω–∏ —Ç—Ä—è–±–≤–∞—Ç JavaScript —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏—Ç–µ.

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add jquery tether`

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/client/index.jsx`, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
import $ from 'jquery'
import Tether from 'tether'

// [right after all your imports]

window.jQuery = $
window.Tether = Tether
require('bootstrap')
```

–¢–æ–≤–∞ —â–µ –∑–∞—Ä–µ–¥–∏ JavaScript –∫–æ–¥–∞ –Ω–∞ Bootstrap.

### Bootstrap –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

–û–∫–µ–π, –≤—Ä–µ–º–µ –µ –¥–∞ –∫–æ–ø–∏—Ä–∞—Ç–µ –Ω—è–∫–æ–ª–∫–æ —Ñ–∞–π–ª–∞.

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/shared/component/page/hello-async.jsx` —Ñ–∞–π–ª–∞, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
// @flow

import React from 'react'
import Helmet from 'react-helmet'

import MessageAsync from '../../container/message-async'
import HelloAsyncButton from '../../container/hello-async-button'

const title = 'Async Hello Page'

const HelloAsyncPage = () =>
  <div className="container mt-4">
    <Helmet
      title={title}
      meta={[
        { name: 'description', content: 'A page to say hello asynchronously' },
        { property: 'og:title', content: title },
      ]}
    />
    <div className="row">
      <div className="col-12">
        <h1>{title}</h1>
        <MessageAsync />
        <HelloAsyncButton />
      </div>
    </div>
  </div>

export default HelloAsyncPage
```

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/shared/component/page/hello.jsx` —Ñ–∞–π–ª–∞, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
// @flow

import React from 'react'
import Helmet from 'react-helmet'

import Message from '../../container/message'
import HelloButton from '../../container/hello-button'

const title = 'Hello Page'

const HelloPage = () =>
  <div className="container mt-4">
    <Helmet
      title={title}
      meta={[
        { name: 'description', content: 'A page to say hello' },
        { property: 'og:title', content: title },
      ]}
    />
    <div className="row">
      <div className="col-12">
        <h1>{title}</h1>
        <Message />
        <HelloButton />
      </div>
    </div>
  </div>

export default HelloPage
```

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/shared/component/page/home.jsx` —Ñ–∞–π–ª–∞, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
// @flow

import React from 'react'
import Helmet from 'react-helmet'

import ModalExample from '../modal-example'
import { APP_NAME } from '../../config'

const HomePage = () =>
  <div>
    <Helmet
      meta={[
        { name: 'description', content: 'Hello App is an app to say hello' },
        { property: 'og:title', content: APP_NAME },
      ]}
    />
    <div className="jumbotron">
      <div className="container">
        <h1 className="display-3 mb-4">{APP_NAME}</h1>
      </div>
    </div>
    <div className="container">
      <div className="row">
        <div className="col-md-4 mb-4">
          <h3 className="mb-3">Bootstrap</h3>
          <p>
            <button type="button" role="button" data-toggle="modal" data-target=".js-modal-example" className="btn btn-primary">Open Modal</button>
          </p>
        </div>
        <div className="col-md-4 mb-4">
          <h3 className="mb-3">JSS (soon)</h3>
        </div>
        <div className="col-md-4 mb-4">
          <h3 className="mb-3">Websockets</h3>
          <p>Open your browser console.</p>
        </div>
      </div>
    </div>
    <ModalExample />
  </div>

export default HomePage
```

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/shared/component/page/not-found.jsx` —Ñ–∞–π–ª–∞, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
// @flow

import React from 'react'
import Helmet from 'react-helmet'
import { Link } from 'react-router-dom'
import { HOME_PAGE_ROUTE } from '../../routes'

const title = 'Page Not Found!'

const NotFoundPage = () =>
  <div className="container mt-4">
    <Helmet title={title} />
    <div className="row">
      <div className="col-12">
        <h1>{title}</h1>
        <div><Link to={HOME_PAGE_ROUTE}>Go to the homepage</Link>.</div>
      </div>
    </div>
  </div>

export default NotFoundPage
```

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/shared/component/button.jsx`, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
// [...]
<button
  onClick={handleClick}
  className="btn btn-primary"
  type="button"
  role="button"
>{label}</button>
// [...]
```

- –°—ä–∑–¥–∞–π—Ç–µ `src/shared/component/footer.jsx` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```js
// @flow

import React from 'react'
import { APP_NAME } from '../config'

const Footer = () =>
  <div className="container mt-5">
    <hr />
    <footer>
      <p>¬© {APP_NAME} 2017</p>
    </footer>
  </div>

export default Footer
```

- –°—ä–∑–¥–∞–π—Ç–µ `src/shared/component/modal-example.jsx` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```js
// @flow

import React from 'react'

const ModalExample = () =>
  <div className="js-modal-example modal fade">
    <div className="modal-dialog">
      <div className="modal-content">
        <div className="modal-header">
          <h5 className="modal-title">Modal title</h5>
          <button type="button" className="close" data-dismiss="modal">√ó</button>
        </div>
        <div className="modal-body">
          This is a Bootstrap modal. It uses jQuery.
        </div>
        <div className="modal-footer">
          <button type="button" role="button" className="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

export default ModalExample
```

- –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `src/shared/app.jsx` —Ñ–∞–π–ª–∞, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```js
const App = () =>
  <div style={{ paddingTop: 54 }}>
```

–¢–æ–≤–∞ –µ –ø—Ä–∏–º–µ—Ä –∑–∞  *React inline style*.

–¢–æ–≤–∞ —â–µ —Å–µ –ø—Ä–µ–≤–µ–¥–µ –≤: `<div style="padding-top:54px;">` –≤—ä–≤ –≤–∞—à–∏—è DOM. –ò—Å–∫–∞–º–µ —Ç–æ–∑–∏ —Å—Ç–∏–ª –¥–∞ –∏–∑–±—É—Ç–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –ø–æ–¥ –ª–µ–Ω—Ç–∞—Ç–∞ –∑–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è. [React inline styles](https://speakerdeck.com/vjeux/react-css-in-js) –µ —á—É–¥–µ—Å–µ–Ω –Ω–∞—á–∏–Ω –∑–∞ –∏–∑–æ–ª–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ç–∏–ª–æ–≤–µ—Ç–µ –Ω–∞ –≤–∞—à–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –æ—Ç –≥–ª–æ–±–∞–ª–Ω–∞—Ç–∞ CSS –∑–æ–Ω–∞ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ (namespace), –Ω–æ –∫–∞—Ç–æ –≤—Å—è–∫–æ –Ω–µ—â–æ –∏ —Ç–æ–≤–∞ —Å–∏ –∏–º–∞ —Ü–µ–Ω–∞ : –ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –Ω—è–∫–æ–∏ –≤–≥—Ä–∞–¥–µ–Ω–∏ CSS —Å–≤–æ–π—Å—Ç–≤–∞ –∫–∞—Ç–æ `:hover`, Media Queries, –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–ª–∏ `font-face`. –¢–æ–≤–∞ –µ [–µ–¥–Ω–∞ –æ—Ç –ø—Ä–∏—á–∏–Ω–∏—Ç–µ](https://github.com/cssinjs/jss/blob/master/docs/benefits.md#compared-to-inline-styles), –ø–æ—Ä–∞–¥–∏ –∫–æ—è—Ç–æ —â–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–∞–º–µ CSS-in-JS –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, JSS, –ø–æ-–∫—ä—Å–Ω–æ –≤ —Ç–∞–∑–∏ –≥–ª–∞–≤–∞.

- Edit `src/shared/component/nav.jsx` like so:

```js
// @flow

import $ from 'jquery'
import React from 'react'
import { Link, NavLink } from 'react-router-dom'
import { APP_NAME } from '../config'
import {
  HOME_PAGE_ROUTE,
  HELLO_PAGE_ROUTE,
  HELLO_ASYNC_PAGE_ROUTE,
  NOT_FOUND_DEMO_PAGE_ROUTE,
} from '../routes'

const handleNavLinkClick = () => {
  $('body').scrollTop(0)
  $('.js-navbar-collapse').collapse('hide')
}

const Nav = () =>
  <nav className="navbar navbar-toggleable-md navbar-inverse fixed-top bg-inverse">
    <button className="navbar-toggler navbar-toggler-right" type="button" role="button" data-toggle="collapse" data-target=".js-navbar-collapse">
      <span className="navbar-toggler-icon" />
    </button>
    <Link to={HOME_PAGE_ROUTE} className="navbar-brand">{APP_NAME}</Link>
    <div className="js-navbar-collapse collapse navbar-collapse">
      <ul className="navbar-nav mr-auto">
        {[
          { route: HOME_PAGE_ROUTE, label: 'Home' },
          { route: HELLO_PAGE_ROUTE, label: 'Say Hello' },
          { route: HELLO_ASYNC_PAGE_ROUTE, label: 'Say Hello Asynchronously' },
          { route: NOT_FOUND_DEMO_PAGE_ROUTE, label: '404 Demo' },
        ].map(link => (
          <li className="nav-item" key={link.route}>
            <NavLink to={link.route} className="nav-link" activeStyle={{ color: 'white' }} exact onClick={handleNavLinkClick}>{link.label}</NavLink>
          </li>
        ))}
      </ul>
    </div>
  </nav>

export default Nav
```

There is something new here, `handleNavLinkClick`. One issue I encountered using Bootstrap's `navbar` in an SPA is that clicking on a link on mobile does not collapse the menu, and does not scroll back to the top of the page. This is a great opportunity to show you an example of how you would integrate some jQuery / Bootstrap-specific code in your app:

```js
import $ from 'jquery'
// [...]

const handleNavLinkClick = () => {
  $('body').scrollTop(0)
  $('.js-navbar-collapse').collapse('hide')
}

<NavLink /* [...] */ onClick={handleNavLinkClick}>
```

**Note**: I've removed accessibility-related attributes (like `aria` attributes) to make the code more readable *in the context of this tutorial*. **You should absolutely put them back**. Refer to Bootstrap's documentation and code samples to see how to use them.

üèÅ Your app should now be entirely styled with Bootstrap.

## The current state of CSS

In 2016, the typical modern JavaScript stack settled. The different libraries and tools this tutorial made you set up are pretty much the *cutting-edge industry standard* (*cough ‚Äì even though it could become completely outdated in a year from now ‚Äì cough*). Yes, that's a complex stack to set up, but at least, most front-end devs agree that React-Redux-Webpack is the way to go. Now regarding CSS, I have some pretty bad news. Nothing settled, there is no standard way to go, no standard stack.

SASS, BEM, SMACSS, SUIT, Bass CSS, React Inline Styles, LESS, Styled Components, CSSX, JSS, Radium, Web Components, CSS Modules, OOCSS, Tachyons, Stylus, Atomic CSS, PostCSS, Aphrodite, React Native for Web, and many more that I forget are all different approaches or tools to get the job done. They all do it well, which is the problem, there is no clear winner, it's a big mess.

The cool React kids tend to favor React inline styles, CSS-in-JS, or CSS Modules approaches though, since they integrate really well with React and solve programmatically many [issues](https://speakerdeck.com/vjeux/react-css-in-js) that regular CSS approaches struggle with.

CSS Modules work well, but they don't leverage the power of JavaScript and its many features over CSS. They just provide encapsulation, which is fine, but React inline styles and CSS-in-JS take styling to an other level in my opinion. My personal suggestion would be to use React inline styles for common styles (that's also what you have to use for React Native), and use a CSS-in-JS library for things like `:hover` and media queries.

There are [tons of CSS-in-JS libraries](https://github.com/MicheleBertoli/css-in-js). JSS is a full-featured, well-rounded, and [performant](https://github.com/cssinjs/jss/blob/master/docs/performance.md) one.

## JSS

> üí° **[JSS](http://cssinjs.org/)** is a CSS-in-JS library to write your styles in JavaScript and inject them into your app.

Now that we have some base template with Bootstrap, let's write some custom CSS. I mentioned earlier that React inline styles could not handle `:hover` and media queries, so we'll show a simple example of this on the homepage using JSS. JSS can be used via `react-jss`, a library that is convenient to use with React components.

- Run `yarn add react-jss`

Add the following to your `.flowconfig` file, as there is currently a Flow [issue](https://github.com/cssinjs/jss/issues/411) with JSS:

```flowconfig
[ignore]
.*/node_modules/jss/.*
```

### Server-side

JSS can render styles on the server for the initial rendering.

- Add the following constants to `src/shared/config.js`:

```js
export const JSS_SSR_CLASS = 'jss-ssr'
export const JSS_SSR_SELECTOR = `.${JSS_SSR_CLASS}`
```

- Edit `src/server/render-app.jsx` like so:

```js
import { SheetsRegistry, SheetsRegistryProvider } from 'react-jss'
// [...]
import { APP_CONTAINER_CLASS, JSS_SSR_CLASS, STATIC_PATH, WDS_PORT } from '../shared/config'
// [...]
const renderApp = (location: string, plainPartialState: ?Object, routerContext: ?Object = {}) => {
  const store = initStore(plainPartialState)
  const sheets = new SheetsRegistry()
  const appHtml = ReactDOMServer.renderToString(
    <Provider store={store}>
      <StaticRouter location={location} context={routerContext}>
        <SheetsRegistryProvider registry={sheets}>
          <App />
        </SheetsRegistryProvider>
      </StaticRouter>
    </Provider>)
  // [...]
      <link rel="stylesheet" href="${STATIC_PATH}/css/bootstrap.min.css">
      <style class="${JSS_SSR_CLASS}">${sheets.toString()}</style>
  // [...]
```

## Client-side

The first thing the client should do after rendering the app client-side, is to get rid of the server-generated JSS styles.

- Add the following to `src/client/index.jsx` after the `ReactDOM.render` calls (before `setUpSocket(store)` for instance):

```js
import { APP_CONTAINER_SELECTOR, JSS_SSR_SELECTOR } from '../shared/config'
// [...]

const jssServerSide = document.querySelector(JSS_SSR_SELECTOR)
// flow-disable-next-line
jssServerSide.parentNode.removeChild(jssServerSide)

setUpSocket(store)
```

Edit `src/shared/component/page/home.jsx` like so:

```js
import injectSheet from 'react-jss'
// [...]
const styles = {
  hoverMe: {
    '&:hover': {
      color: 'red',
    },
  },
  '@media (max-width: 800px)': {
    resizeMe: {
      color: 'red',
    },
  },
  specialButton: {
    composes: ['btn', 'btn-primary'],
    backgroundColor: 'limegreen',
  },
}

const HomePage = ({ classes }: { classes: Object }) =>
  // [...]
  <div className="col-md-4 mb-4">
    <h3 className="mb-3">JSS</h3>
    <p className={classes.hoverMe}>Hover me.</p>
    <p className={classes.resizeMe}>Resize the window.</p>
    <button className={classes.specialButton}>Composition</button>
  </div>
  // [...]

export default injectSheet(styles)(HomePage)
```

Unlike React inline styles, JSS uses classes. You pass styles to `injectSheet` and the CSS classes end up in the props of your component.

üèÅ Run `yarn start` and `yarn dev:wds`. Open the homepage. Show the source of the page (not in the inspector) to see that the JSS styles are present in the DOM at the initial render in the `<style class="jss-ssr">` element (only on the Home page). They should be gone in the inspector, replaced by `<style type="text/css" data-jss data-meta="HomePage">`.

**Note**: In production mode, the `data-meta` is obfuscated. Sweet!

If you hover over the "Hover me" label, it should turn red. If you resize your browser window to be narrower than 800px, the "Resize your window" label should turn red. The green button is extending Bootstrap's CSS classes using JSS' `composes` property.

Next section: [09 - Travis, Coveralls, Heroku](09-travis-coveralls-heroku.md#readme)

Back to the [previous section](07-socket-io.md#readme) or the [table of contents](https://github.com/verekia/js-stack-from-scratch#table-of-contents).
