# 03 - Express, Nodemon –∏ PM2

–ö–æ–¥–∞ –∑–∞ —Ç–∞–∑–∏ –≥–ª–∞–≤–∞ –º–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ [—Ç—É–∫](https://github.com/verekia/js-stack-walkthrough/tree/master/03-express-nodemon-pm2).

–í —Ç–∞–∑–∏ —Å–µ–∫—Ü–∏—è —â–µ —Å—ä–∑–¥–∞–¥–µ–º —Å—ä—Ä–≤—ä—Ä—ä—Ç, –∫–æ–π—Ç–æ —â–µ –æ—Ç–≥–æ–≤–∞—Ä—è –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –Ω–∞—à–µ—Ç–æ —É–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –°—ä—â–æ —Ç–∞–∫–∞ —â–µ –Ω–∞—Å—Ç—Ä–æ–∏–º —Å—ä—Ä–≤—ä—Ä–∞, —Ç–∞–∫–∞ —á–µ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ —Ä–µ–∂–∏–º–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (development mode) –∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (production mode).

## Express

> üí° **[Express](http://expressjs.com/)** –µ –º–æ–∂–µ –±–∏ –Ω–∞–π-–∏–∑–≤–µ—Å—Ç–Ω–∏—è—Ç —Ñ—Ä–µ–π–º—É—ä—Ä–∫ –∑–∞ —É–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞ Node. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—è –º–Ω–æ–≥–æ –æ–ø—Ä–æ—Å—Ç–µ–Ω –∏ –∏–∑—á–∏—Å—Ç–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ (API), –∏ –Ω–µ–≥–æ–≤–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –Ω–∞–¥–≥—Ä–∞–¥–µ–Ω–∏ —Å *middleware*.

–°–µ–≥–∞ —â–µ –Ω–∞—Å—Ç—Ä–æ–∏–º –º–∏–Ω–∏–º–∞–ª–µ–Ω Express —Å—ä—Ä–≤—ä—Ä –∑–∞ —Å–µ—Ä–≤–∏—Ä–∞–Ω–µ –Ω–∞ –µ–¥–Ω–∞ HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –º–∞–ª–∫–æ CSS –∫–æ–¥.

- –ò–∑—Ç—Ä–∏–π—Ç–µ –≤—Å–∏—á–∫–æ –æ—Ç –ø–∞–ø–∫–∞—Ç–∞ `src`

–°—ä–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

- –°—ä–∑–¥–∞–π—Ç–µ `public/css/style.css` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```css
body {
  width: 960px;
  margin: auto;
  font-family: sans-serif;
}

h1 {
  color: limegreen;
}
```

- –°—ä–∑–¥–∞–π—Ç–µ –ø—Ä–∞–∑–Ω–∞ –ø–∞–ø–∫–∞ `src/client/`.

- –°—ä–∑–¥–∞–π—Ç–µ –ø—Ä–∞–∑–Ω–∞ –ø–∞–ø–∫–∞ `src/shared/`.

–¢–æ–≤–∞ –µ –ø–∞–ø–∫–∞—Ç–∞ –∫—ä–¥–∞—Ç–æ —â–µ –ø–æ—Å—Ç–∞–≤—è–º–µ *isomorphic / universal* JavaScript –∫–æ–¥ ‚Äì —Ñ–∞–π–ª–æ–≤–µ, –∫–æ–∏—Ç–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—Ç–∞ —á–∞—Å—Ç, –∏ –æ—Ç —Å—ä—Ä–≤—ä—Ä–Ω–∞—Ç–∞. –ß—É–¥–µ—Å–µ–Ω –ø—Ä–∏–º–µ—Ä –∑–∞ —Ç–∞–∫—ä–≤ —Å–ø–æ–¥–µ–ª–µ–Ω –∫–æ–¥ —Å–∞ *routes*, –∫–∞–∫—Ç–æ —â–µ –≤–∏–¥–∏—Ç–µ –º–∞–ª–∫–æ –ø–æ-–∫—ä—Å–Ω–æ –≤ —Ç–æ–≤–∞ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫–æ–≥–∞—Ç–æ —â–µ –ø—Ä–∞–≤–∏–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è. –¢—É–∫ –∏–º–∞–º–µ –ø—Ä–æ—Å—Ç–æ –Ω—è–∫–æ–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏, —Å–ª—É–∂–µ—â–∏ –∑–∞ –ø—Ä–∏–º–µ—Ä.

- –°—ä–∑–¥–∞–π—Ç–µ `src/shared/config.js` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```js
// @flow

export const WEB_PORT = process.env.PORT || 8000
export const STATIC_PATH = '/static'
export const APP_NAME = 'Hello App'
```

–ê–∫–æ Node –ø—Ä–æ—Ü–µ—Å–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∑–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ `process.env.PORT` (—Ç–∞–∫—ä–≤ –±–∏ –±–∏–ª —Å–ª—É—á–∞—è –∞–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ Heroku –Ω–∞–ø—Ä–∏–º–µ—Ä), —â–µ –∏–∑–ø–æ–ª–∑–≤–∞ –Ω–µ—è –∑–∞ –ø–æ—Ä—Ç–∞. –ê–∫–æ –Ω—è–º–∞ —Ç–∞–∫–∞–≤–∞, –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –ø–æ—Ä—Ç–∞ —â–µ –±—ä–¥–µ `8000`.

- –°—ä–∑–¥–∞–π—Ç–µ `src/shared/util.js` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```js
// @flow

// eslint-disable-next-line import/prefer-default-export
export const isProd = process.env.NODE_ENV === 'production'
```

–¢–æ–≤–∞ –µ –µ–¥–Ω–∞ –ø–æ–ª–µ–∑–Ω–∞ –æ–ø—Ü–∏—è, —Å –∫–æ—è—Ç–æ –¥–∞ —Ç–µ—Å—Ç–≤–∞—Ç–µ –¥–∞–ª–∏ —Å—Ç–µ –≤ –ø—Ä–æ–¥—É–∫—Ü–∏–æ–Ω–µ–Ω —Ä–µ–∂–∏–º (production mode) –∏–ª–∏ –Ω–µ. –ö–æ–º–µ–Ω—Ç–∞—Ä—ä—Ç `// eslint-disable-next-line import/prefer-default-export` –µ —Å–ª–æ–∂–µ–Ω, —Ç—ä–π –∫–∞—Ç–æ –≤ –º–æ–º–µ–Ω—Ç–∞ –∏–º–∞–º–µ —Å–∞–º–æ –µ–¥–∏–Ω –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω —Ñ–∞–π–ª, –∫–æ–π—Ç–æ –µ–∫—Å–ø–æ—Ä—Ç–∏—Ä–∞–º–µ. –ú–æ–∂–µ—Ç–µ –¥–∞ –≥–æ –ø—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –∫–æ–≥–∞—Ç–æ –¥–æ–±–∞–≤—è—Ç–µ –¥—Ä—É–≥–∏ –µ–∫—Å–ø–æ—Ä—Ç–∏ –≤ —Ç–æ–∑–∏ —Ñ–∞–π–ª.

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add express compression`

`compression` –µ Express middleware –∑–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ Gzip –∫–æ–º–ø—Ä–µ—Å–∏—è –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞.

- –°—ä–∑–¥–∞–π—Ç–µ `src/server/index.js` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```js
// @flow

import compression from 'compression'
import express from 'express'

import { APP_NAME, STATIC_PATH, WEB_PORT } from '../shared/config'
import { isProd } from '../shared/util'
import renderApp from './render-app'

const app = express()

app.use(compression())
app.use(STATIC_PATH, express.static('dist'))
app.use(STATIC_PATH, express.static('public'))

app.get('/', (req, res) => {
  res.send(renderApp(APP_NAME))
})

app.listen(WEB_PORT, () => {
  // eslint-disable-next-line no-console
  console.log(`Server running on port ${WEB_PORT} ${isProd ? '(production)' : '(development)'}.`)
})
```

–ù–∏—â–æ —á—Ä–µ–∑–≤–∏—á–∞–π–Ω–æ —Ç—É–∫, —Ç–æ–≤–∞ –µ –ø–æ—á—Ç–∏ Express –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–∞ Hello World —Å –Ω—è–∫–æ–ª–∫–æ –¥–æ–ø—ä–ª–Ω–µ–Ω–∏—è. –¢—É–∫ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ 2 —Ä–∞–∑–ª–∏—á–Ω–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ. `dist` –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –∏ `public` –∑–∞ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞–Ω–∏ —Ç–∞–∫–∏–≤–∞.

- –°—ä–∑–¥–∞–π—Ç–µ `src/server/render-app.js` —Ñ–∞–π–ª, —Å—ä–¥—ä—Ä–∂–∞—â:

```js
// @flow

import { STATIC_PATH } from '../shared/config'

const renderApp = (title: string) =>
`<!doctype html>
<html>
  <head>
    <title>${title}</title>
    <link rel="stylesheet" href="${STATIC_PATH}/css/style.css">
  </head>
  <body>
    <h1>${title}</h1>
  </body>
</html>
`

export default renderApp
```

–ú–æ–∂–µ –±–∏ –∑–Ω–∞–µ—Ç–µ, —á–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ö–∞ *—Ç–µ–º–ø–ª–µ–π—Ç –µ–Ω–¥–∂–∏–Ω–∏* –≤ –±–µ–∫-–µ–Ω–¥ —á–∞—Å—Ç–∞? –°–µ–≥–∞ —Ç–æ–≤–∞ –≤–µ—á–µ –Ω–µ –µ –Ω—É–∂–Ω–æ, —Ç—ä–π –∫–∞—Ç–æ JavaScript –ø–æ–¥–¥—ä—Ä–∂–∞ —Ç–µ–º–ø–ª–µ–π—Ç —Å—Ç—Ä–∏–Ω–≥–æ–≤–µ. –¢—É–∫ —Å—ä–∑–¥–∞–≤–∞–º–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –≤–∑–∏–º–∞ `title`(–∑–∞–≥–ª–∞–≤–∏–µ—Ç–æ) –∫–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –∏ –≥–æ –∏–Ω–∂–µ–∫—Ç–∏—Ä–∞ –≤ `title` –∏ `h1` —Ç–∞–≥–æ–≤–µ—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞, –≤—Ä—ä—â–∞–π–∫–∏ –∑–∞–≤—ä—Ä—à–µ–Ω HTML —Å—Ç—Ä–∏–Ω–≥. –°—ä—â–æ —Ç–∞–∫–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ç–∞ `STATIC_PATH`, –∫–æ—è—Ç–æ —Å–ª—É–∂–∏ –∑–∞ –æ—Å–Ω–æ–≤–µ–Ω –ø—ä—Ç –∫—ä–º –≤—Å–∏—á–∫–∏ –Ω–∞—à–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏.

### –û—Å–≤–µ—Ç—è–≤–∞–Ω–µ (highlighting) –Ω–∞ HTML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞ —Ç–µ–º–ø–ª–µ–π—Ç —Å—Ç—Ä–∏–Ω–≥–æ–≤–µ –≤ Atom (–Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç –≤–∞—à–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä, –º–æ–∂–µ—Ç–µ –¥–∞ –∏–º–∞—Ç–µ –æ—Å–≤–µ—Ç—è–≤–∞–Ω–µ –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –∫–æ–µ—Ç–æ –¥–∞ –µ –≤ —Å–∏–ª–∞ –∑–∞ HTML –∫–æ–¥ –≤ —Ç–µ–º–ø–ª–µ–π—Ç —Å—Ç—Ä–∏–Ω–≥–æ–≤–µ—Ç–µ. –í Atom, –∞–∫–æ –ø–æ—Å—Ç–∞–≤–∏—Ç–µ `html` —Ç–∞–≥ –ø—Ä–µ–¥–∏ —Ç–µ–º–ø–ª–µ–π—Ç —Å—Ç—Ä–∏–Ω–≥ (–∏–ª–∏ –∫–∞–∫—ä–≤—Ç–æ –∏ –¥–∞ –±–∏–ª–æ —Ç–∞–≥ *–∑–∞–≤—ä—Ä—à–≤–∞—â* —Å `html`, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä `ilovehtml`), —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ —â–µ —Å–µ –æ—Å–≤–µ—Ç–∏. –ü–æ–Ω—è–∫–æ–≥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º `html` —Ç–∞–≥ –æ—Ç `common-tags` –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞, –∑–∞ –¥–∞ —Å–µ –≤—ä–∑–ø–æ–ª–∑–≤–∞–º –æ—Ç —Ç–∞–∑–∏ –æ–ø—Ü–∏—è:

```js
import { html } from `common-tags`

const template = html`
<div>Wow, colors!</div>
`
```

–ù–∞—Ä–æ—á–Ω–æ –Ω–µ –≤–∫–ª—é—á–∏—Ö —Ç–æ–∑–∏ —Ç—Ä–∏–∫ –≤ –æ—Å–Ω–æ–≤–∞—Ç–∞ –Ω–∞ —Ç–æ–≤–∞ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ, —Ç—ä–π –∫–∞—Ç–æ –∏–∑–≥–ª–µ–∂–¥–∞, —á–µ —Ä–∞–±–æ—Ç–∏ —Å–∞–º–æ –≤ Atom, –∞ –∏ –Ω–µ –µ –∏–¥–µ–∞–ª–Ω–æ. –ù—è–∫–æ–∏ –æ—Ç –≤–∞—Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –Ω–∞ Atom –º–æ–≥–∞—Ç –¥–∞ –≥–æ –Ω–∞–º–µ—Ä—è—Ç –∑–∞ –ø–æ–ª–µ–∑–Ω–æ.

–ö–∞–∫—Ç–æ –∏ –¥–∞ –µ, –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Ä–∞–±–æ—Ç–∞!

- –í `package.json` –ø—Ä–æ–º–µ–Ω–µ—Ç–µ –≤–∞—à–∏—è `start` —Å–∫—Ä–∏–ø—Ç –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞: `"start": "babel-node src/server",`

üèÅ –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn start` –∏ –æ—Ç–≤–æ—Ä–µ—Ç–µ `localhost:8000` –≤—ä–≤ –≤–∞—à–∏—è –±—Ä–∞—É–∑—ä—Ä. –ê–∫–æ –≤—Å–∏—á–∫–æ —Ä–∞–±–æ—Ç–∏ –∫–∞–∫—Ç–æ —Å–µ –æ—á–∞–∫–≤–∞ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –≤–∏–¥–∏—Ç–µ –ø—Ä–∞–∑–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å "Hello App" –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—Ç–∞ –ª–µ–Ω—Ç–∞ –∏ –Ω–∞ —Å–∞–º–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –≤—ä–≤ –≤–∏–¥ –Ω–∞ –∑–µ–ª–µ–Ω —Ç–µ–∫—Å—Ç.

**–ó–∞–±–µ–ª–µ–∂–∫–∞**: –ù—è–∫–æ–∏ –ø—Ä–æ—Ü–µ—Å–∏ ‚Äì –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Ç–∞–∫–∏–≤–∞, –∫–æ–∏—Ç–æ –æ—á–∞–∫–≤–∞—Ç –Ω–µ—â–æ –¥–∞ —Å–µ —Å–ª—É—á–∏, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä —Å—ä—Ä–≤—ä—Ä–Ω–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å–∏ ‚Äì –Ω—è–º–∞ –¥–∞ –≤–∏ –ø–æ–∑–≤–æ–ª—è—Ç –¥–∞ –≤—ä–≤–µ–∂–¥–∞—Ç–µ –∫–æ–º–∞–Ω–¥–∏ –≤—ä–≤ –≤–∞—à–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–æ–∫–∞—Ç–æ –Ω–µ –ø—Ä–∏–∫–ª—é—á–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç–∞ —Å–∏. –ó–∞ –¥–∞ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ —Ç–∞–∫–∏–≤–∞ –ø—Ä–æ—Ü–µ—Å–∏ –∏ –¥–∞ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å–∏ –æ—Ç–Ω–æ–≤–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ **Ctrl+C**. –ê–∫–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –º–æ–∂–µ—Ç–µ –¥–∞ –≤—ä–≤–µ–∂–¥–∞—Ç–µ –∫–æ–º–∞–Ω–¥–∏ –¥–æ–∫–∞—Ç–æ —Ç–µ–∑–∏ –ø—Ä–æ—Ü–µ—Å–∏ —Ä–∞–±–æ—Ç—è—Ç –º–æ–∂–µ—Ç–µ –¥–∞ –æ—Ç–≤–æ—Ä–∏—Ç–µ –Ω–æ–≤ —Ç–∞–± –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–Ω–∏—è –ø—Ä–æ–∑–æ—Ä–µ—Ü –∏ –¥–∞ –ø–∏—à–µ—Ç–µ –≤ –Ω–µ–≥–æ. –°—ä—â–æ —Ç–∞–∫–∞ –∏–º–∞ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç —Ç–µ–∑–∏ –ø—Ä–æ—Ü–µ—Å–∏ –¥–∞ –±—ä–¥–∞—Ç —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–∏ –∏ –¥–∞ —Ä–∞–±–æ—Ç—è—Ç –≤ –±–µ–∫–≥—Ä–∞—É–Ω–¥–∞, –Ω–æ —Ç–æ–≤–∞ –Ω–µ –µ –≤ –æ–±—Ö–≤–∞—Ç–∞ –Ω–∞ —Ç–æ–≤–∞ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ.

## Nodemon

> üí° **[Nodemon](https://nodemon.io/)** –µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —á—Ä–µ–∑ –∫–æ–π—Ç–æ –≤–∞—à–∏—è Node —Å—ä—Ä–≤—ä—Ä —Å–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–≥–∞—Ç–æ –Ω–∞—Å—Ç—ä–ø—è—Ç –ø—Ä–æ–º–µ–Ω–∏ –≤ –¥–∞–¥–µ–Ω —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞.

–©–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ Nodemon –¥–æ–∫–∞—Ç–æ —Å–º–µ –≤ —Ä–µ–∂–∏–º –Ω–∞ **—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (**development** mode).

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add --dev nodemon`

- –ü—Ä–æ–º–µ–Ω–µ—Ç–µ –≤–∞—à–∏—è—Ç `scripts` –æ–±–µ–∫—Ç, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```json
"start": "yarn dev:start",
"dev:start": "nodemon --ignore lib --exec babel-node src/server",
```

–°–µ–≥–∞ `start` –µ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª –∫—ä–º –¥—Ä—É–≥–∞ –∑–∞–¥–∞—á–∞, `dev:start`. –¢–æ–≤–∞ –Ω–∏ –¥–∞–≤–∞ —Å–ª–æ–π –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∫–æ–≥–∞—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–≤–∞–º–µ –∫–∞–∫–≤–æ –ø—Ä–∞–≤–∏ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –Ω–∏ –∑–∞–¥–∞—á–∞.

–í –∑–∞–¥–∞—á–∞—Ç–∞ `dev:start`, —Ñ–ª–∞–≥—ä—Ç `--ignore lib` –µ, –∑–∞ –¥–∞ *–Ω–µ* —Å–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞ —Å—ä—Ä–≤—ä—Ä–∞ –∫–æ–≥–∞—Ç–æ –Ω–∞—Å—Ç—ä–ø—è—Ç –Ω—è–∫–∞–∫–≤–∏ –ø—Ä–æ–º–µ–Ω–∏ –≤ `lib` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞. –í—Å–µ –æ—â–µ –Ω—è–º–∞—Ç–µ —Ç–∞–∫–∞–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –Ω–æ —â–µ —è —Å—ä–∑–¥–∞–¥–µ–º –≤ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Å–µ–∫—Ü–∏—è –∏ —â–µ –º–æ–∂–µ–º –¥–∞ –≤–∏–¥–∏–º –µ—Ñ–µ–∫—Ç–∞ –º—É –≤ –¥–µ–π—Å—Ç–≤–∏–µ. Nodemon –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞ `node` —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞, –∑–∞ –¥–∞ —Ä–∞–±–æ—Ç–∏. –í –Ω–∞—à–∏—è —Å–ª—É—á–∞–π, —Ç—ä–π –∫–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ Babel, —â–µ –Ω–∞—Å—Ç—Ä–æ–∏–º Nodemon –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ `babel-node`. –ü–æ —Ç–æ–∑–∏ –Ω–∞—á–∏–Ω —â–µ –º–æ–∂–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ —Ü—è–ª–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –ø—Ä–æ–∏–∑–ª–∏–∑–∞—â–∞ –æ—Ç ES6/Flow –∫–æ–¥–∞.

üèÅ –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn start` –∏ –æ—Ç–≤–æ—Ä–µ—Ç–µ `localhost:8000`. –ü—Ä–æ–º–µ–Ω–µ—Ç–µ `APP_NAME` –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ç–∞ –≤ `src/shared/config.js`, –∫–æ–µ—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –∏–Ω–∏—Ü–∏–∏—Ä–∞ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞. –û–ø—Ä–µ—Å–Ω–µ—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞, –∑–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ –æ–±–Ω–æ–≤–µ–Ω–æ—Ç–æ –∑–∞–≥–ª–∞–≤–∏–µ. –û–±—ä—Ä–Ω–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á–µ —Ç–æ–∑–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω —Ä–µ—Å—Ç–∞—Ä—Ç –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞ –µ –Ω–µ—â–æ —Ä–∞–∑–ª–∏—á–Ω–æ –æ—Ç *Hot Module Replacement*, –∫–æ–µ—Ç–æ –µ –∫–æ–≥–∞—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ —Å–µ –æ–±–Ω–æ–≤—è–≤–∞—Ç –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ. –í –Ω–∞—à–∏—è —Å–ª—É—á–∞–π –≤—Å–µ –æ—â–µ –∏–º–∞–º–µ –Ω—É–∂–¥–∞ –æ—Ç —Ä—ä—á–Ω–æ –æ–ø—Ä–µ—Å–Ω—è–≤–∞–Ω–µ, –Ω–æ –ø–æ–Ω–µ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–ø–∏—Ä–∞–º–µ –ø—Ä–æ—Ü–µ—Å–∞ –∏ –¥–∞ –≥–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ —Ä—ä—á–Ω–æ –æ—Ç–Ω–æ–≤–æ –∑–∞ –¥–∞ –≤–∏–¥–∏–º –ø—Ä–æ–º–µ–Ω–∏—Ç–µ. Hot Module Replacement (–º–æ–º–µ–Ω—Ç–∞–ª–Ω–æ –æ–ø—Ä–µ—Å–Ω—è–≤–∞–Ω–µ –±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç —Ä—ä—á–Ω–æ —Ç–∞–∫–æ–≤–∞, —Ç.–µ. –±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ –Ω–∞ *F5*, –∑–∞ Windows –Ω–∞–ø—Ä–∏–º–µ—Ä) —â–µ –±—ä–¥–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–µ–Ω–æ –≤ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Å–µ–∫—Ü–∏—è.

## PM2

> üí° **[PM2](http://pm2.keymetrics.io/)** –µ –º–µ–Ω–∏–¥–∂—ä—Ä –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∏ –∑–∞ Node. –ü—Ä–µ–¥–ª–∞–≥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ "–∂–∏–≤–∏" –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–∞ —Å—Ä–µ–¥–∞, –∫–∞–∫—Ç–æ –∏ –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏ –æ–ø—Ü–∏–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –Ω–∞ —Ç–∞–∫–∏–≤–∞.

–©–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ PM2 –¥–æ–∫–∞—Ç–æ —Å–º–µ –≤ —Ä–µ–∂–∏–º –Ω–∞ **–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ** (**production** mode).

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add --dev pm2`

–í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–∞ —Å—Ä–µ–¥–∞, –±–∏—Ö–º–µ –∏—Å–∫–∞–ª–∏ —Å—ä—Ä–≤—ä—Ä–∞ –Ω–∏ –¥–∞ —Ä–∞–±–æ—Ç–∏ –∫–æ–ª–∫–æ—Ç–æ —Å–µ –º–æ–∂–µ –ø–æ-–¥–æ–±—Ä–µ. `babel-node` —Å—Ç–∞—Ä—Ç–∏—Ä–∞ —Ü–µ–ª–∏—è Babel –ø—Ä–æ—Ü–µ—Å –ø–æ —Ç—Ä–∞–Ω—Å–ø–∏–ª–∞—Ü–∏—è—Ç–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –ø—Ä–∏ –≤—Å—è–∫–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ, –∫–æ–µ—Ç–æ –µ –Ω–µ—â–æ, –∫–æ–µ—Ç–æ –Ω–µ –∏—Å–∫–∞–º–µ –¥–∞ —Å–µ —Å–ª—É—á–≤–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–∞ —Å—Ä–µ–¥–∞. –ù–∏–µ –∏–º–∞–º–µ –Ω—É–∂–¥–∞ Babel –¥–∞ –∏–∑–≤—ä—Ä—à–≤–∞ —Ü—è–ª–∞—Ç–∞ —Ç–∞–∑–∏ —Ä–∞–±–æ—Ç–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ, –∑–∞ –¥–∞ –º–æ–∂–µ –Ω–∞–∫—Ä–∞—è –Ω–∞—à–∏—è —Å—ä—Ä–≤—ä—Ä –¥–∞ —Å–µ—Ä–≤–∏—Ä–∞ —Ñ–∞–π–ª–æ–≤–µ —Å –¥–æ–±—Ä–µ –ø–æ–∑–Ω–∞—Ç–∏—è —Å—Ç–∞—Ä, —á–∏—Å—Ç, –ø—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–∞–Ω ES5 –∫–æ–¥.

–ï–¥–Ω–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–∞ Babel –µ –¥–∞ –≤–∑–µ–º–µ –µ–¥–Ω–∞ –ø–∞–ø–∫–∞ —Å ES6 –∫–æ–¥ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –∫—Ä—ä—Å—Ç–µ–Ω–∞ `src`) –∏ –¥–∞ —è —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä–∞ –≤ –ø–∞–ø–∫–∞ —Å ES5 –∫–æ–¥ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –∫—Ä—ä—Å—Ç–µ–Ω–∞ `lib`).

–ü–∞–ø–∫–∞—Ç–∞ `lib` —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –¥–æ–±—Ä–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –µ –¥–∞ —Å–µ —á–∏—Å—Ç–∏ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –π –ø—Ä–µ–¥–∏ –≤—Å–µ–∫–∏ –Ω–æ–≤ –±–∏–ª–¥, —Ç—ä–π –∫–∞—Ç–æ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞ –Ω–µ–∂–µ–ª–∞–Ω–∏ —Å—Ç–∞—Ä–∏ —Ñ–∞–π–ª–æ–≤–µ. –ó–∞ —Ç–∞–∑–∏ —Ü–µ–ª —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –µ–¥–∏–Ω —á—É–¥–µ—Å–µ–Ω –ø–∞–∫–µ—Ç –Ω–∞—Ä–µ—á–µ–Ω `rimraf`.

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add --dev rimraf`

–ù–µ–∫–∞ –¥–∞ –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥–Ω–∞—Ç–∞ `prod:build` –∑–∞–¥–∞—á–∞ –∫—ä–º –Ω–∞—à–∏—è `scripts` –æ–±–µ–∫—Ç:

```json
"prod:build": "rimraf lib && babel src -d lib --ignore .test.js",
```

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn prod:build`, —Ç–æ–≤–∞ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ `lib` –ø–∞–ø–∫–∞, —Å—ä–¥—ä—Ä–∂–∞—â–∞ —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä–∞–Ω–∏—è –∫–æ–¥, —Å –∏–∑–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ –∑–∞–≤—ä—Ä—à–≤–∞—â–∏ –Ω–∞ `.test.js` (–æ–±—ä—Ä–Ω–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á–µ `.test.jsx` —Ñ–∞–π–ª–æ–≤–µ —Å—ä—â–æ —â–µ –±—ä–¥–∞—Ç –∏–≥–Ω–æ—Ä–∏—Ä–∞–Ω–∏ —Å —Ç–æ–∑–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä).

- –î–æ–±–∞–≤–µ—Ç–µ `/lib/` –≤—ä–≤ –≤–∞—à–∏—è `.gitignore` —Ñ–∞–π–ª

–ï–¥–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–æ –Ω–µ—â–æ: —â–µ –ø–æ–¥–∞–¥–µ–º `NODE_ENV` –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ –∫—ä–º –Ω–∞—à–∏—è PM2. –ê–∫–æ —Å—Ç–µ —Å Unix, –±–∏—Ö—Ç–µ –º–æ–≥–ª–∏ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ —Ç–æ–≤–∞ —á—Ä–µ–∑ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ `NODE_ENV=production pm2`, –Ω–æ –Ω–∞ Windows —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –µ —Ä–∞–∑–ª–∏—á–µ–Ω. –©–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –æ—â–µ –µ–¥–∏–Ω –º–∞–ª—ä–∫ –ø–∞–∫–µ—Ç, –Ω–∞—Ä–µ—á–µ–Ω `cross-env`, –∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º –≤—ä–∑–º–æ–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –ø–æ–¥ Windows —Å—ä—â–æ —Ç–∞–∫–∞.

- –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn add --dev cross-env`

–ù–µ–∫–∞ –¥–∞ –æ–±–Ω–æ–≤–∏–º –Ω–∞—à–∏—è `package.json`, –∫–∞–∫—Ç–æ —Å–ª–µ–¥–≤–∞:

```json
"scripts": {
  "start": "yarn dev:start",
  "dev:start": "nodemon --ignore lib --exec babel-node src/server",
  "prod:build": "rimraf lib && babel src -d lib --ignore .test.js",
  "prod:start": "cross-env NODE_ENV=production pm2 start lib/server && pm2 logs",
  "prod:stop": "pm2 delete server",
  "test": "eslint src && flow && jest --coverage",
  "precommit": "yarn test",
  "prepush": "yarn test"
},
```

üèÅ –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn prod:build`, —Å–ª–µ–¥ —Ç–æ–≤–∞ –∏–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn prod:start`. PM2 –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –ø–æ–∫–∞–∂–µ –∞–∫—Ç–∏–≤–Ω–∏—è –ø—Ä–æ—Ü–µ—Å. –û—Ç–≤–æ—Ä–µ—Ç–µ `http://localhost:8000/` –≤—ä–≤ –≤–∞—à–∏—è –±—Ä–∞—É–∑—ä—Ä –∏ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –≤–∏–¥–∏—Ç–µ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í–∞—à–∏—è—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –ø–æ–∫–∞–∑–≤–∞ –ª–æ–≥–æ–≤–µ—Ç–µ, –∫–æ–∏—Ç–æ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ —Å–∞ "Server running on port 8000 (production).". –ó–∞–±–µ–ª–µ–∂–µ—Ç–µ, —á–µ –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ PM2, –≤–∞—à–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å–∏ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç –≤ –±–µ–∫–≥—Ä–∞—É–Ω–¥–∞. –ê–∫–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ Ctrl+C, —â–µ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ `pm2 logs` –∫–æ–º–∞–Ω–¥–∞—Ç–∞, –∫–æ–µ—Ç–æ –µ –ø–æ—Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç –Ω–∞—à–∞—Ç–∞ `prod:start` –ø–æ—Ä–µ–¥–∏—Ü–∞, –Ω–æ —Å—ä—Ä–≤—ä—Ä–∞ –≤—Å–µ –æ—â–µ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ —Ä–µ–Ω–¥–∏—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞. –ê–∫–æ –∏—Å–∫–∞—Ç–µ –¥–∞ —Å–ø—Ä–µ—Ç–µ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn prod:stop`

–°–µ–≥–∞, —Å–ª–µ–¥ –∫–∞—Ç–æ –∏–º–∞–º–µ `prod:build` –∑–∞–¥–∞—á–∞, –±–∏ –±–∏–ª–æ –¥–æ–±—Ä–µ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º, —á–µ –≤—Å–∏—á–∫–æ —Ä–∞–±–æ—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–∞–∑–≤–∞–º–µ (pushing) –ø—Ä–æ–º–µ–Ω–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—Ç–æ. –¢—ä–π –∫–∞—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ –Ω–µ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–∞ –≥–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ –ø—Ä–∏ –≤—Å–µ–∫–∏ –æ–ø–∏—Ç –∑–∞ –∑–∞–ø–∞–∑–≤–∞–Ω–µ (commit), –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º –¥–∞ –≥–æ –¥–æ–±–∞–≤–∏—Ç–µ –≤ `prepush` –∑–∞–¥–∞—á–∞—Ç–∞:

```json
"prepush": "yarn test && yarn prod:build"
```

üèÅ –ò–∑–ø—ä–ª–Ω–µ—Ç–µ `yarn prepush` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∞–∑–µ—Ç–µ –≤–∞—à–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–∏ (push your files), –∑–∞ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –ø—Ä–æ—Ü–µ—Å–∞.

**–ó–∞–±–µ–ª–µ–∂–∫–∞**: –í –º–æ–º–µ–Ω—Ç–∞ –Ω–µ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–º–µ —Å –Ω–∏–∫–∞–∫–≤–∏ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ —Å–ª—É—á–∞—è, —Ç–∞–∫–∞ —á–µ Jest —â–µ –Ω–∏ —Å—ä–æ–±—â–∏ –∑–∞ —Ç–æ–≤–∞. –ò–≥–Ω–æ—Ä–∏—Ä–∞–π—Ç–µ –≥–æ –∑–∞ –º–æ–º–µ–Ω—Ç–∞.

–°–ª–µ–¥–≤–∞—â–∞ –≥–ª–∞–≤–∞: [04 - Webpack, React, HMR](04-webpack-react-hmr.md#readme)

–ù–∞–∑–∞–¥ –∫—ä–º [–ø—Ä–µ–¥–∏—à–Ω–∞—Ç–∞ –≥–ª–∞–≤–∞](02-babel-es6-eslint-flow-jest-husky.md#readme) –∏–ª–∏ –∫—ä–º [—Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ](https://github.com/mihailgaberov/js-stack-from-scratch#–°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ).
